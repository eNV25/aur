# Maintainer: eNV25 <env252525@gmail.com>

pkgname=gccgo
_pkgname=gcc-go
pkgver=11.1.0
pkgrel=4
pkgdesc="Go front-end for GCC"
arch=(x86_64)
url="https://gcc.gnu.org"
license=('GPL')
depends=("gcc=$pkgver-$pkgrel")
conflicts=(gcc-go)
options=(!strip)

source_x86_64=("gcc-go.tar.zst::https://archlinux.org/packages/core/x86_64/$_pkgname/download")
noextract=("gcc-go.tar.zst")

pkgver() {
	bsdtar xfO "gcc-go.tar.zst" .BUILDINFO | sed -En '/pkgver = (.*)-.*/ { s//\1/; p; q }'
}

package() {
	bsdtar xf "gcc-go.tar.zst" -C "$pkgdir"
	cd "$pkgdir"
	rm -rf .BUILDINFO .MTREE .PKGINFO usr/bin/go usr/bin/gofmt
}

sha256sums_x86_64=('SKIP')
